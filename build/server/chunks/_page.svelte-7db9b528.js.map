{"version":3,"file":"_page.svelte-7db9b528.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/async3/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, e as escape } from \"../../../chunks/ssr.js\";\nconst _page_svelte_svelte_type_style_lang = \"\";\nconst css = {\n  code: \"h3.svelte-1r0astu{color:turquoise }\",\n  map: null\n};\nasync function asyncId(x) {\n  return x;\n}\nasync function wait(t) {\n  setTimeout(function() {\n  });\n}\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  var asyncIdCode = `async function asyncId (x) {return x};\n\nvar m2 = M1(3);\n\nlog(\"m2(ret) is\", m2(ret));  // 3\n\nasyncId(m2(ret)).then(v=>log(\"asyncId(m2(ret)).then(v =>\",v));  //3\n\nasyncId(asyncId(asyncId(m2(ret))))\n.then(v=>log(\"asyncId(asyncId(asyncId(m2(ret))))).then(v =>\",v));  //3`;\n  var m1 = M1(2);\n  var m2 = M1(new Promise((resolve, reject) => {\n    setTimeout(\n      () => {\n        resolve(2);\n      },\n      1500\n    );\n  }));\n  var mpow = (y) => async (x) => asyncId(x).then((v) => x = v ** y);\n  var mMult = (y) => (x) => asyncId(x).then((v) => x = v * y);\n  var madd = (y) => async (x) => {\n    await wait();\n    return x + y;\n  };\n  m1(mpow(10))(Math.sqrt)(madd(52))(mMult(2))((a) => a * 2)(async (x) => {\n    await wait();\n    return x / 8;\n  });\n  m2(mpow(10))(Math.sqrt)(madd(52))(mMult(2))((a) => a * 2)(async (x) => {\n    await wait();\n    return x / 8;\n  });\n  console.log(\"m1(ret) is\", m1(ret));\n  console.log(\"m2(ret) is\", m2(ret));\n  let A;\n  m1(ret).then((v) => A = v);\n  m2(ret).then((v) => v);\n  $$result.css.add(css);\n  return `${$$result.head += `<!-- HEAD_svelte-1d9b83h_START -->${$$result.title = `<title>Asynchronous values in monads</title>`, \"\"}<!-- HEAD_svelte-1d9b83h_END -->`, \"\"} <br> <div data-svelte-h=\"svelte-9ovhf0\">**************************************************************************</div> <div style=\"font-family: Times New Roman; text-align:center; font-size: 32px;\" data-svelte-h=\"svelte-6mtrel\"><br>\n\n    Asynchronous State Transformations in Monads</div> <br> <h3 class=\"svelte-1r0astu\" data-svelte-h=\"svelte-14quf8o\">GOAL: Handle both Synchronous and Asynchronous Functions in a Simple Recursive Closure</h3> <p data-svelte-h=\"svelte-1bh1p6z\">We&#39;ve been creating the recursive closures called monads with:</p> <pre>${escape(monad)}</pre> <p data-svelte-h=\"svelte-en9ymf\">Here it is again with a small tweak enabling it to handle functions that operate on and/or return promises:</p> <pre>${escape(M1Code)}</pre> <p data-svelte-h=\"svelte-r1d7yz\">AsyncId makes promises out of non-promises and has no effect on promises as shown below.</p> <pre>${escape(asyncIdCode)}</pre> <p data-svelte-h=\"svelte-16qlfgr\">Part A (above) shows that m2(ret) == 3. Calling asyncId on m2(ret) in Part B returned a promise whose fulfullment value is 3. The Part B Promise is both the argument and the return value of asyncId in PartC.</p> <h2>m1(ret).then(v =&gt; A = v) A is ${escape(A)}</h2> <h2>${escape(A)}</h2> <p data-svelte-h=\"svelte-1j0obtq\">The next screenshot demonstrates M1-created monads taking as arguments a series of synchronous mixed with asynchronous functions. The value held in m1 is initially the number 2. The value in m2 is a promise that resolves to the number 2.</p> <p data-svelte-h=\"svelte-1tildub\">After m1 and m2 operate on pow(5), both hold promises with fulfillment values of 32. Had they operated on mpow(5) instead, the result would be the same.</p>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}
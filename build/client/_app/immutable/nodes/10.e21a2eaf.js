import{s as Ct,h as xt}from"../chunks/scheduler.41143b43.js";import{S as bt,i as wt,s as a,g as i,m as B,D as It,f as e,c as r,h as o,x as d,j as D,n as $,l as st,k as Pt,a as s,y as j,o as ct,E as _t}from"../chunks/index.8cc052f2.js";function At(v){let _,E,T,f,H="**************************************************************************",y,u,z=`<br/>

    Asynchronous State Transformations in Monads`,h,l,m,p,c,at="GOAL: Handle both Synchronous and Asynchronous Functions in a Simple Recursive Closure",L,C,it="We've been creating the recursive closures called monads with:",V,R,Z,F,x,rt="Here it is again with a small tweak enabling it to handle functions that operate on and/or return promises:",G,q,g,N,b,ot="AsyncId makes promises out of non-promises and has no effect on promises as shown below.",O,k,tt,W,w,ut="Part A (above) shows that m2(ret) == 3. Calling asyncId on m2(ret) in Part B returned a promise whose fulfullment value is 3. The Part B Promise is both the argument and the return value of asyncId in PartC.",J,I,et,K,Q,S,U,X,P,mt="The next screenshot demonstrates M1-created monads taking as arguments a series of synchronous mixed with asynchronous functions. The value held in m1 is initially the number 2. The value in m2 is a promise that resolves to the number 2.",Y,A,vt="After m1 and m2 operate on pow(5), both hold promises with fulfillment values of 32. Had they operated on mpow(5) instead, the result would be the same.",M;return{c(){_=a(),E=i("br"),T=a(),f=i("div"),f.textContent=H,y=a(),u=i("div"),u.innerHTML=z,l=a(),m=i("br"),p=a(),c=i("h3"),c.textContent=at,L=a(),C=i("p"),C.textContent=it,V=a(),R=i("pre"),Z=B(monad),F=a(),x=i("p"),x.textContent=rt,G=a(),q=i("pre"),g=B(M1Code),N=a(),b=i("p"),b.textContent=ot,O=a(),k=i("pre"),tt=B(v[1]),W=a(),w=i("p"),w.textContent=ut,J=a(),I=i("h2"),et=B("m1(ret).then(v => A = v) A is "),K=B(v[0]),Q=a(),S=i("h2"),U=B(v[0]),X=a(),P=i("p"),P.textContent=mt,Y=a(),A=i("p"),A.textContent=vt,this.h()},l(t){It("svelte-1d9b83h",document.head).forEach(e),_=r(t),E=o(t,"BR",{}),T=r(t),f=o(t,"DIV",{"data-svelte-h":!0}),d(f)!=="svelte-9ovhf0"&&(f.textContent=H),y=r(t),u=o(t,"DIV",{style:!0,"data-svelte-h":!0}),d(u)!=="svelte-6mtrel"&&(u.innerHTML=z),l=r(t),m=o(t,"BR",{}),p=r(t),c=o(t,"H3",{class:!0,"data-svelte-h":!0}),d(c)!=="svelte-14quf8o"&&(c.textContent=at),L=r(t),C=o(t,"P",{"data-svelte-h":!0}),d(C)!=="svelte-1bh1p6z"&&(C.textContent=it),V=r(t),R=o(t,"PRE",{});var ft=D(R);Z=$(ft,monad),ft.forEach(e),F=r(t),x=o(t,"P",{"data-svelte-h":!0}),d(x)!=="svelte-en9ymf"&&(x.textContent=rt),G=r(t),q=o(t,"PRE",{});var ht=D(q);g=$(ht,M1Code),ht.forEach(e),N=r(t),b=o(t,"P",{"data-svelte-h":!0}),d(b)!=="svelte-r1d7yz"&&(b.textContent=ot),O=r(t),k=o(t,"PRE",{});var dt=D(k);tt=$(dt,v[1]),dt.forEach(e),W=r(t),w=o(t,"P",{"data-svelte-h":!0}),d(w)!=="svelte-16qlfgr"&&(w.textContent=ut),J=r(t),I=o(t,"H2",{});var nt=D(I);et=$(nt,"m1(ret).then(v => A = v) A is "),K=$(nt,v[0]),nt.forEach(e),Q=r(t),S=o(t,"H2",{});var pt=D(S);U=$(pt,v[0]),pt.forEach(e),X=r(t),P=o(t,"P",{"data-svelte-h":!0}),d(P)!=="svelte-1j0obtq"&&(P.textContent=mt),Y=r(t),A=o(t,"P",{"data-svelte-h":!0}),d(A)!=="svelte-1tildub"&&(A.textContent=vt),this.h()},h(){document.title="Asynchronous values in monads",st(u,"font-family","Times New Roman"),st(u,"text-align","center"),st(u,"font-size","32px"),Pt(c,"class","svelte-1r0astu")},m(t,n){s(t,_,n),s(t,E,n),s(t,T,n),s(t,f,n),s(t,y,n),s(t,u,n),s(t,l,n),s(t,m,n),s(t,p,n),s(t,c,n),s(t,L,n),s(t,C,n),s(t,V,n),s(t,R,n),j(R,Z),s(t,F,n),s(t,x,n),s(t,G,n),s(t,q,n),j(q,g),s(t,N,n),s(t,b,n),s(t,O,n),s(t,k,n),j(k,tt),s(t,W,n),s(t,w,n),s(t,J,n),s(t,I,n),j(I,et),j(I,K),s(t,Q,n),s(t,S,n),j(S,U),s(t,X,n),s(t,P,n),s(t,Y,n),s(t,A,n),M=!0},p(t,[n]){(!M||n&1)&&ct(K,t[0]),(!M||n&1)&&ct(U,t[0])},i(t){M||(t&&xt(()=>{M&&(h||(h=_t(u,fade,{},!0)),h.run(1))}),M=!0)},o(t){t&&(h||(h=_t(u,fade,{},!1)),h.run(0)),M=!1},d(t){t&&(e(_),e(E),e(T),e(f),e(y),e(u),e(l),e(m),e(p),e(c),e(L),e(C),e(V),e(R),e(F),e(x),e(G),e(q),e(N),e(b),e(O),e(k),e(W),e(w),e(J),e(I),e(Q),e(S),e(X),e(P),e(Y),e(A)),t&&h&&h.end()}}}async function yt(v){return v}async function lt(v){setTimeout(function(){})}function Mt(v,_,E){var T=`async function asyncId (x) {return x};

var m2 = M1(3);

log("m2(ret) is", m2(ret));  // 3

asyncId(m2(ret)).then(v=>log("asyncId(m2(ret)).then(v =>",v));  //3

asyncId(asyncId(asyncId(m2(ret))))
.then(v=>log("asyncId(asyncId(asyncId(m2(ret))))).then(v =>",v));  //3`,f=M1(2),H=M1(new Promise((l,m)=>{setTimeout(()=>{l(2)},1500)})),y=l=>async m=>yt(m).then(p=>m=p**l),u=l=>m=>yt(m).then(p=>m=p*l),z=l=>async m=>(await lt(),m+l);f(y(10))(Math.sqrt)(z(52))(u(2))(l=>l*2)(async l=>(await lt(),l/8)),H(y(10))(Math.sqrt)(z(52))(u(2))(l=>l*2)(async l=>(await lt(),l/8)),console.log("m1(ret) is",f(ret)),console.log("m2(ret) is",H(ret));let h;return f(ret).then(l=>E(0,h=l)),H(ret).then(l=>l),[h,T]}class Ht extends bt{constructor(_){super(),wt(this,_,Mt,At,Ct,{})}}export{Ht as component};
